<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Frakta Scroll + Kreuze alt</title>
<style>
  * {
    margin: 0; padding: 0; box-sizing: border-box;
  }

  html, body {
    height: 100%;
    background: black;
    font-family: sans-serif;
    color: white;
    overflow: hidden;
  }

  /* Hintergrund */
  .background {
    position: fixed;
    top: 50%;
    left: 50%;
    width: 100vw;
    height: 100vh;
    transform: translate(-50%, -50%);
    z-index: 0;
    pointer-events: auto;
  }
  .background iframe {
    position: absolute;
    top: 50%;
    left: 50%;
    min-width: 100%;
    min-height: 100%;
    width: auto;
    height: auto;
    transform: translate(-50%, -50%);
    border: none;
    pointer-events: auto;
  }

  /* Scrollcontainer */
  .scroll-container {
    position: relative;
    height: 100vh;
    width: calc(100vw - 20px); /* Platz rechts für Scrollbar */
    scroll-snap-type: y mandatory;
    overflow-y: scroll;
    overflow-x: hidden;
    scroll-behavior: smooth;
    z-index: 5;
    pointer-events: auto;
    padding-top: 0;
    float: left;
  }

  /* Slides */
  section.slide {
    scroll-snap-align: end;
    height: 100vh;
    width: 100%;
    display: flex;
    align-items: flex-end;
    justify-content: center;
    padding-bottom: 3rem;
    position: relative;
  }

  /* Blur Box */
  .blur-box {
    width: 100%;
    max-width: 900px;
    background: rgba(255, 255, 255, 0.1);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    padding: 2rem 2rem 3rem 2rem;
    color: white;
    user-select: text;
    position: relative;
  }

  h1, h2, p {
    margin-bottom: 1rem;
  }

  /* Kreuze am oberen und unteren Rand der blur-box, links und rechts */
  .cross {
    position: absolute;
    width: 14px;
    height: 14px;
  }
  .cross::before, .cross::after {
    content: '';
    position: absolute;
    background: white;
    opacity: 0.3;
  }
  .cross::before {
    width: 100%;
    height: 1px;
    top: 50%;
    left: 0;
    transform: translateY(-50%);
  }
  .cross::after {
    height: 100%;
    width: 1px;
    top: 0;
    left: 50%;
    transform: translateX(-50%);
  }

  /* Obere Kreuze */
  .cross.top-left {
    top: 8px;
    left: 16px;
  }
  .cross.top-right {
    top: 8px;
    right: 16px;
  }

  /* Untere Kreuze */
  .cross.bottom-left {
    bottom: 8px;
    left: 16px;
  }
  .cross.bottom-right {
    bottom: 8px;
    right: 16px;
  }

  /* Kreuze-Container für blur-box */
  .blur-box .cross-holder {
    position: absolute;
    width: 100%;
    height: 100%;
    top: 0;
    left: 0;
    pointer-events: none;
  }

  /* Scrollbar rechts - nur 1px breit, fast unsichtbar */
  .scrollbar {
    position: fixed;
    top: 0;
    right: 0;
    width: 20px;
    height: 100vh;
    background: transparent;
    z-index: 10;
    pointer-events: auto;
    cursor: ns-resize;
  }

  .scrollbar-line {
    position: absolute;
    top: 0;
    right: 10px; /* Etwa gleiche horizontale Position wie Kreuze rechts */
    width: 1px;
    height: 100%;
    background: rgba(255, 255, 255, 0.15);
  }

  .scrollbar-cross {
    position: absolute;
    width: 14px;
    height: 14px;
    pointer-events: none;
    background: transparent;
    opacity: 0.6;
  }
  .scrollbar-cross::before,
  .scrollbar-cross::after {
    content: '';
    position: absolute;
    background: white;
    opacity: 0.3;
  }
  .scrollbar-cross::before {
    width: 100%;
    height: 1px;
    top: 50%;
    left: 0;
    transform: translateY(-50%);
  }
  .scrollbar-cross::after {
    height: 100%;
    width: 1px;
    top: 0;
    left: 50%;
    transform: translateX(-50%);
  }

  @media (max-width: 600px) {
    .blur-box {
      padding: 1.5rem 1.5rem 2.5rem 1.5rem;
    }
    .scrollbar {
      width: 15px;
    }
    .scrollbar-line {
      right: 7px;
    }
  }
</style>
</head>
<body>

  <!-- Hintergrund -->
  <div class="background">
    <iframe src="https://paulkimmerl.github.io/frakta/" allowfullscreen></iframe>
  </div>

  <!-- Scrollcontainer -->
  <div class="scroll-container" id="scroll-container">
    <section class="slide">
      <div class="blur-box">
        <div class="cross-holder">
          <div class="cross top-left"></div>
          <div class="cross top-right"></div>
          <div class="cross bottom-left"></div>
          <div class="cross bottom-right"></div>
        </div>
        <h1>Erste Slide</h1>
        <p>Originaler Frakta Hintergrund – interaktiv.</p>
      </div>
    </section>

    <section class="slide">
      <div class="blur-box">
        <div class="cross-holder">
          <div class="cross top-left"></div>
          <div class="cross top-right"></div>
          <div class="cross bottom-left"></div>
          <div class="cross bottom-right"></div>
        </div>
        <h2>Zweite Slide</h2>
        <p>Weitere Inhalte hier.</p>
      </div>
    </section>

    <section class="slide">
      <div class="blur-box">
        <div class="cross-holder">
          <div class="cross top-left"></div>
          <div class="cross top-right"></div>
          <div class="cross bottom-left"></div>
          <div class="cross bottom-right"></div>
        </div>
        <h2>Dritte Slide</h2>
        <p>Ende der Präsentation.</p>
      </div>
    </section>
  </div>

  <!-- Unsichtbare Scrollbar rechts -->
  <div class="scrollbar" id="scrollbar">
    <div class="scrollbar-line"></div>
    <div class="scrollbar-cross" id="scrollbar-cross"></div>
  </div>

  <script>
    const scrollContainer = document.getElementById('scroll-container');
    const scrollbarCross = document.getElementById('scrollbar-cross');
    const scrollbar = document.getElementById('scrollbar');

    // Positioniert das Scroll-Kreuz vertikal passend zum scroll
    function updateScrollCross() {
      const scrollTop = scrollContainer.scrollTop;
      const maxScroll = scrollContainer.scrollHeight - scrollContainer.clientHeight;
      const scrollRatio = maxScroll > 0 ? scrollTop / maxScroll : 0;
      const lineHeight = scrollbar.clientHeight;
      const crossHeight = scrollbarCross.offsetHeight;
      scrollbarCross.style.top = `${scrollRatio * (lineHeight - crossHeight)}px`;
      // Horizontal Position auf gleiche Position wie Kreuz rechts (etwa 10px von Rand)
      scrollbarCross.style.right = '10px';
    }

    scrollContainer.addEventListener('scroll', updateScrollCross);

    // Scrollbar reagiert auf Mausrad
    scrollbar.addEventListener('wheel', e => {
      e.preventDefault();
      scrollContainer.scrollBy({top: e.deltaY, behavior: 'smooth'});
    });

    // Scrollbar reagiert auf Touch zum Scrollen
    let touchStartY = null;
    scrollbar.addEventListener('touchstart', e => {
      if (e.touches.length === 1) {
        touchStartY = e.touches[0].clientY;
      }
    });

    scrollbar.addEventListener('touchmove', e => {
      if (touchStartY !== null && e.touches.length === 1) {
        const touchY = e.touches[0].clientY;
        const delta = touchStartY - touchY;
        scrollContainer.scrollBy({top: delta, behavior: 'auto'});
        touchStartY = touchY;
        e.preventDefault();
      }
    });

    scrollbar.addEventListener('touchend', e => {
      touchStartY = null;
    });

    // Initial position
    updateScrollCross();

    // Resize handler
    window.addEventListener('resize', updateScrollCross);
  </script>

</body>
</html>
